Track freelance jobs from Apify and get instant WhatsApp alerts for new leads

https://n8nworkflows.xyz/workflows/track-freelance-jobs-from-apify-and-get-instant-whatsapp-alerts-for-new-leads-9941


# Track freelance jobs from Apify and get instant WhatsApp alerts for new leads

### 1. Workflow Overview

This workflow automates monitoring freelance job postings from platforms like Upwork by leveraging an Apify Actor to scrape job listings and sending real-time WhatsApp alerts for new leads. It targets freelancers, agencies, and developers who want instant notifications about relevant freelance opportunities without manually checking job boards. The workflow also logs all found jobs into a Google Sheet for record-keeping and future reference.

The workflow is logically divided into the following blocks:

- **1.1 Trigger Reception:** Listens for a chat message trigger (e.g., from WhatsApp) to initiate the workflow.
- **1.2 Job Scraping via Apify:** Runs an Apify Actor that scrapes freelance job listings based on the trigger input.
- **1.3 Dataset Retrieval:** Fetches the dataset items (job listings) returned by the Apify Actor.
- **1.4 Job Filtering and Scoring:** Processes the scraped data to filter relevant jobs and assign a relevance score based on keyword matches.
- **1.5 Data Formatting:** Maps and formats the job data fields for consistent usage downstream.
- **1.6 Google Sheets Logging:** Appends or updates job entries in a Google Sheet to maintain a log.
- **1.7 Message Preparation:** Prepares WhatsApp message fields with relevant job details.
- **1.8 WhatsApp Notification:** Sends an alert message via WhatsApp API for each new or updated job lead.

---

### 2. Block-by-Block Analysis

---

#### 1.1 Trigger Reception

- **Overview:**  
  Initiates the workflow upon receiving a chat message, typically from WhatsApp, signaling to start fetching and processing job leads.

- **Nodes Involved:**  
  - When chat message received

- **Node Details:**  

  **When chat message received**  
  - Type: Chat Trigger (LangChain integration)  
  - Role: Listens for incoming chat messages to trigger the workflow.  
  - Configuration: Default options; webhook ID assigned for external webhook calls.  
  - Input: External chat message (e.g., WhatsApp message).  
  - Output: Passes chat input (expected keywords) to next node.  
  - Edge Cases: Missing or malformed chat input may cause unexpected behavior; webhook authentication and availability should be monitored.  
  - Sub-workflow: None.

---

#### 1.2 Job Scraping via Apify

- **Overview:**  
  Runs an Apify Actor configured to scrape freelance job listings based on keywords from the trigger.

- **Nodes Involved:**  
  - Run an Actor

- **Node Details:**  

  **Run an Actor**  
  - Type: Apify node  
  - Role: Executes a job scraping actor on Apify platform with user-supplied keywords.  
  - Configuration:  
    - Actor ID must be set to the specific job scraping actor on Apify.  
    - Input JSON contains `"paymentVerified": true` and `"query"` set from the chat input keywords.  
    - Timeout: Default/unset.  
  - Input: Keywords from chat trigger.  
  - Output: Actor run metadata including defaultDatasetId for job results.  
  - Credentials: Requires Apify API token.  
  - Edge Cases: Actor ID or token incorrect â†’ run failure; timeout or actor internal errors; malformed input can cause no results.

---

#### 1.3 Dataset Retrieval

- **Overview:**  
  Retrieves dataset items (job listings) generated by the Apify Actor run.

- **Nodes Involved:**  
  - Get dataset items

- **Node Details:**  

  **Get dataset items**  
  - Type: Apify node  
  - Role: Fetches the dataset from the Apify run using the dataset ID obtained from the actor run.  
  - Configuration: Dataset ID dynamically set from previous nodeâ€™s `defaultDatasetId`.  
  - Input: Actor run metadata.  
  - Output: Array of job listing JSON objects with fields like title, description, budget, URL, date, client info.  
  - Credentials: Uses same Apify API token.  
  - Edge Cases: Dataset ID invalid or expired; no data returned if actor failed or no jobs found.

---

#### 1.4 Job Filtering and Scoring

- **Overview:**  
  Filters and scores job listings based on keyword relevance to prioritize important leads.

- **Nodes Involved:**  
  - Code in JavaScript

- **Node Details:**  

  **Code in JavaScript**  
  - Type: Function node (JavaScript)  
  - Role: Processes each job listing to calculate a relevance score by counting keyword occurrences in title and description.  
  - Key Logic:  
    - Extracts keywords from trigger input (array or space-separated string).  
    - Scores matches in title (30 points per occurrence) and description (20 points per occurrence).  
    - Caps score at 100.  
    - Attaches `score` field to each job item.  
  - Input: Dataset items from Apify.  
  - Output: Job items enriched with `score`.  
  - Edge Cases: No keywords provided â†’ score 0; empty fields; regex failures if keywords contain special chars; performance on large datasets.

---

#### 1.5 Data Formatting

- **Overview:**  
  Normalizes and maps job data fields into consistent names and adds metadata.

- **Nodes Involved:**  
  - Edit Fields1

- **Node Details:**  

  **Edit Fields1**  
  - Type: Set node  
  - Role: Renames and assigns key job properties for further processing and logging.  
  - Assignments:  
    - Title, Description, Status (fixed "New"), Payment Type, Experience, Salary, Location, URL, Date, Found (current timestamp), hire_percentage, spending_history, rating, score.  
  - Input: Scored job items.  
  - Output: Well-structured JSON with unified field names.  
  - Edge Cases: Missing input fields â†’ empty strings; timestamp generation depends on system clock.

---

#### 1.6 Google Sheets Logging

- **Overview:**  
  Logs or updates job listings in a Google Sheet to keep a persistent record.

- **Nodes Involved:**  
  - Append or update row in sheet1

- **Node Details:**  

  **Append or update row in sheet1**  
  - Type: Google Sheets node  
  - Role: Appends new job rows or updates existing ones based on the Title column to avoid duplicates.  
  - Configuration:  
    - Sheet: Specified by document ID and sheet name "Sheet1".  
    - Columns: URL, Date, Found, Score, Title, Salary, Status, Location, Experience, Description, Payment Type.  
    - Matching Column: Title used to find existing rows.  
  - Input: Formatted job data.  
  - Output: Confirmation of append/update action.  
  - Credentials: OAuth2 Google Sheets account authorized.  
  - Edge Cases: Sheet access denied; API quota exceeded; title duplicates with different URLs; data type mismatches.

---

#### 1.7 Message Preparation

- **Overview:**  
  Extracts and prepares specific job details for WhatsApp message formatting.

- **Nodes Involved:**  
  - Edit Fields To send Specific Data

- **Node Details:**  

  **Edit Fields To send Specific Data**  
  - Type: Set node  
  - Role: Selects and renames fields for WhatsApp message template: Job Tile, job posted date, Payment type, score, budget.  
  - Input: Output from Google Sheets append/update.  
  - Output: JSON ready for WhatsApp message templating.  
  - Edge Cases: Missing fields; mismatches in field names.

---

#### 1.8 WhatsApp Notification

- **Overview:**  
  Sends an instant WhatsApp message alert about the new freelance job opportunity.

- **Nodes Involved:**  
  - Send message

- **Node Details:**  

  **Send message**  
  - Type: WhatsApp node (WhatsApp API)  
  - Role: Sends a text message formatted with job details to a configured phone number.  
  - Configuration:  
    - Phone Number ID: Configured WhatsApp API phone ID.  
    - Recipient Phone Number: Userâ€™s WhatsApp number (to be set).  
    - Text Template: Message includes job title, posted date, hourly budget, payment type.  
    - Preview URL disabled.  
  - Input: Job details from previous node.  
  - Credentials: WhatsApp API credentials required.  
  - Edge Cases: Wrong phone number; API limits; message formatting errors; network issues.

---

### 3. Summary Table

| Node Name                 | Node Type                  | Functional Role                         | Input Node(s)             | Output Node(s)                | Sticky Note                                                                                                   |
|---------------------------|----------------------------|---------------------------------------|---------------------------|------------------------------|--------------------------------------------------------------------------------------------------------------|
| When chat message received| Chat Trigger (LangChain)   | Workflow trigger on chat message      | None                      | Run an Actor                 | ## ðŸ’¼ Freelance Job Tracker with WhatsApp Alerts (Apify + n8n) Workflow overview detailed in sticky notes.  |
| Run an Actor              | Apify                      | Run Apify Actor to scrape jobs        | When chat message received| Get dataset items            | Ensure Apify credentials and actor ID are set correctly.                                                    |
| Get dataset items         | Apify                      | Retrieve job dataset from Apify       | Run an Actor              | Code in JavaScript           |                                                                                                              |
| Code in JavaScript        | Function (JavaScript)       | Score jobs by keyword relevance       | Get dataset items         | Edit Fields1                 |                                                                                                              |
| Edit Fields1              | Set                        | Format and map job fields             | Code in JavaScript        | Append or update row in sheet1|                                                                                                              |
| Append or update row in sheet1 | Google Sheets           | Log jobs in Google Sheet              | Edit Fields1              | Edit Fields To send Specific Data| Google Sheets OAuth2 credentials required.                                                                   |
| Edit Fields To send Specific Data | Set                  | Prepare WhatsApp message fields       | Append or update row in sheet1| Send message               |                                                                                                              |
| Send message              | WhatsApp API               | Send WhatsApp alert message           | Edit Fields To send Specific Data| None                      | Configure recipient phone number to receive alerts.                                                         |
| Sticky Note               | Sticky Note                | Informational header                   | None                      | None                        | # Freelance Job Tracker with WhatsApp Alerts                                                                 |
| Sticky Note1              | Sticky Note                | Workflow overview and detailed notes  | None                      | None                        | ## ðŸ’¼ Freelance Job Tracker with WhatsApp Alerts (Apify + n8n) Workflow overview and step explanations.     |
| Sticky Note2              | Sticky Note                | Usage notes and requirements           | None                      | None                        | # ðŸ§  Who Itâ€™s For and Requirements for the workflow, including scheduling tips.                              |

---

### 4. Reproducing the Workflow from Scratch

1. **Create Trigger Node**  
   - Add **When chat message received** (LangChain Chat Trigger) node.  
   - Use default settings; save webhook ID for external triggering.

2. **Add Apify Actor Run Node**  
   - Add **Run an Actor** node (Apify integration).  
   - Configure with your Apify API credentials.  
   - Set Actor ID to your job scraping actorâ€™s ID.  
   - Set custom body JSON to include `"paymentVerified": true` and `"query": "{{ $json.chatInput }}"`.  
   - Connect output of trigger node to this node.

3. **Add Dataset Retrieval Node**  
   - Add **Get dataset items** node (Apify).  
   - Configure with your Apify credentials.  
   - Set Dataset ID to `={{ $json.defaultDatasetId }}` (dynamic from previous node).  
   - Connect output of Run an Actor node to this.

4. **Add JavaScript Code Node for Scoring**  
   - Add **Code** node (JavaScript).  
   - Paste provided code that extracts keywords and scores jobs.  
   - Input: dataset items from previous node.  
   - Output: scored job items.  
   - Connect output of Get dataset items node to this.

5. **Add Set Node to Map Fields**  
   - Add **Set** node named "Edit Fields1".  
   - Configure to assign fields: Title, Description, Status (set "New"), Payment Type, Experience, Salary, Location, URL, Date, Found (current timestamp), hire_percentage, spending_history, rating, score.  
   - Use expressions like `={{ $json.title }}`, `={{ $now.toISO() }}`, etc.  
   - Connect output of Code node to this.

6. **Add Google Sheets Node**  
   - Add **Google Sheets** node set to Append or Update operation.  
   - Configure with Google Sheets OAuth2 credentials.  
   - Set Document ID to your Google Sheet ID.  
   - Sheet Name: "Sheet1" or your target sheet.  
   - Define columns for URL, Date, Found, Score, Title, Salary, Status, Location, Experience, Description, Payment Type.  
   - Match rows by Title column to avoid duplicates.  
   - Connect output of Edit Fields1 node to this.

7. **Add Set Node for WhatsApp Fields**  
   - Add another **Set** node named "Edit Fields To send Specific Data".  
   - Assign fields: Job Tile (`={{ $json.Title }}`), job posted (`={{ $json.Date }}`), Payment type, score, budget as per formatting needs.  
   - Connect output of Google Sheets node to this.

8. **Add WhatsApp Send Message Node**  
   - Add **WhatsApp** node.  
   - Configure with WhatsApp API credentials and Phone Number ID.  
   - Set recipient phone number to your WhatsApp number.  
   - Configure message text body with template including variables from previous node, e.g.:  
     ```
     # New Job Alert make the Proposal ASAP

     Name :

     Job Title : {{ $json['Job Tile'] }}

     Posted Date : {{ $json['job posted'] }}

     Hourly Budget : {{ $json.budget }}

     Payment Type : {{ $json['Payment type'] }}
     ```  
   - Disable preview URL if not needed.  
   - Connect output of Set node to this.

---

### 5. General Notes & Resources

| Note Content                                                                                                                                                                                                                                                                                                                                                                               | Context or Link                                                                                                              |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| Workflow automates freelance job tracking using Apify scraping and real-time WhatsApp alerts. Useful for freelancers, agencies, and developers.                                                                                                                                                                                                                                          | Sticky Note1 content inside workflow.                                                                                        |
| Requires Apify account with active Actor scraping job listings, WhatsApp API/Twilio for messaging, Google Sheets for logging, and n8n instance (cloud or self-hosted).                                                                                                                                                                                                                     | Sticky Note2 content inside workflow.                                                                                        |
| Scheduling tip: Use a Cron node to run this workflow periodically for continuous job monitoring and alerts even when offline.                                                                                                                                                                                                                                                               | Sticky Note2 content inside workflow.                                                                                        |
| Apify actor must accept JSON input with `paymentVerified` and `query` fields for filtering job listings.                                                                                                                                                                                                                                                                                    | Run an Actor node configuration detail.                                                                                      |
| WhatsApp API messaging requires valid phone number ID and recipient number; watch for API limits and formatting.                                                                                                                                                                                                                                                                            | Send message node configuration detail.                                                                                      |
| Google Sheets node uses Title as matching column to avoid duplicate job entries; ensure sheet columns match node configuration.                                                                                                                                                                                                                                                             | Append or update row in sheet1 node configuration detail.                                                                    |
| JavaScript scoring function boosts relevance by keyword matches in title and description; adjust weights or keywords as needed for customization.                                                                                                                                                                                                                                          | Code in JavaScript node detail.                                                                                              |
| Workflow is designed to be extensible and can be combined with other job scraping or alerting logic as needed.                                                                                                                                                                                                                                                                              | General advice.                                                                                                              |

---

This structured reference document fully describes the workflowâ€™s components, logic, configurations, and how to recreate it manually in n8n, providing a clear guide for advanced users and automation agents alike.

---

**Disclaimer:** The provided text is extracted exclusively from an automated workflow created with n8n, respecting all current content policies and containing no illegal or protected content. All processed data is legal and publicly available.