Discover & Analyze TikTok Influencers with Bright Data, Claude AI & Email Outreach

https://n8nworkflows.xyz/workflows/discover---analyze-tiktok-influencers-with-bright-data--claude-ai---email-outreach-4774


# Discover & Analyze TikTok Influencers with Bright Data, Claude AI & Email Outreach

---

### 1. Workflow Overview

This workflow automates the discovery and analysis of TikTok influencers relevant to a user’s business using Bright Data for scraping, Anthropic Claude AI for influencer evaluation, and Gmail for email outreach. It is designed to take user input (keyword, business info, industry), scrape TikTok profiles based on the keyword, analyze influencer relevance using AI, store and update influencer data in Google Sheets, filter highly relevant influencers, and send personalized email notifications.

Logical blocks:

- **1.1 Input Reception**: Receives user input via form trigger.
- **1.2 Data Scraping with Bright Data**: Initiates TikTok profile scraping by keyword and waits for scrape completion.
- **1.3 Data Extraction and Storage**: Retrieves scraped data snapshot and appends influencer details to Google Sheets.
- **1.4 AI-driven Influencer Analysis**: Uses Anthropic Claude AI to assess influencer relevance based on business context.
- **1.5 Data Parsing and Logging**: Parses AI output, updates Google Sheets with analysis results.
- **1.6 Filtering & Outreach**: Filters for highly relevant influencers and sends notification emails via Gmail.

---

### 2. Block-by-Block Analysis

#### 1.1 Input Reception

**Overview:**  
Captures user input including search keyword, business description, and industry via a form trigger to start the workflow.

**Nodes Involved:**  
- Submit Form with Keyword, Business Info, Industry  
- Sticky Note (comment on trigger)

**Node Details:**  

- **Submit Form with Keyword, Business Info, Industry**  
  - Type: Form Trigger  
  - Role: Workflow entry point, collects three fields: Search Keyword, About My Business, Industry  
  - Configuration: Form titled "TikTok Profile Scraper" with specified fields  
  - Input: External user submission  
  - Output: JSON containing user inputs  
  - Edge cases: Missing or malformed inputs can cause downstream failures  
  - Sticky Note: "Triggers the workflow when user submits keyword, business info & industry via form."

---

#### 1.2 Data Scraping with Bright Data

**Overview:**  
Calls Bright Data API to initiate TikTok profile scraping based on the user’s search keyword, then waits 3 minutes to allow scraping to complete.

**Nodes Involved:**  
- Scrape Data from TikTok through Keyword by BrightData  
- 3 Minute Wait Time  
- Sticky Notes (comments on scraping and wait)

**Node Details:**  

- **Scrape Data from TikTok through Keyword by BrightData**  
  - Type: HTTP Request  
  - Role: Send POST request to Bright Data’s dataset trigger endpoint to start scraping  
  - Configuration:  
    - URL: https://api.brightdata.com/datasets/v3/trigger  
    - Method: POST  
    - Query Params: dataset_id, include_errors, type=discover_new, discover_by=keyword, limit_per_input=5  
    - Body (JSON): includes user’s search keyword and empty country filter, specifies output fields (url, description, profile_id, profile_username, profile_url, profile_followers)  
    - Headers: Authorization Bearer token (Bright Data API token)  
  - Input: JSON with search keyword from form node  
  - Output: JSON containing a snapshot_id for the scrape  
  - Potential failures: API auth errors, rate limits, network timeouts, invalid dataset ID, empty or malformed keyword input  
  - Sticky Note: "Calls Bright Data API to fetch TikTok profiles by keyword."

- **3 Minute Wait Time**  
  - Type: Wait  
  - Role: Pause workflow for 3 minutes to allow Bright Data scraping to complete and data snapshot to be ready  
  - Configuration: 3 minutes wait  
  - Input: Output of Bright Data scrape trigger  
  - Output: Passes snapshot_id forward unchanged  
  - Edge cases: Insufficient wait time may cause snapshot fetch failure  
  - Sticky Note: "Waits 3 minutes to allow Bright Data to complete scraping."

---

#### 1.3 Data Extraction and Storage

**Overview:**  
Fetches the scraped influencer profile data snapshot from Bright Data and appends raw influencer details to a Google Sheet.

**Nodes Involved:**  
- Extract Data from Snapshot Generated by BrightData  
- Update Data in the Google Sheet  
- Sticky Notes (comments on data extraction and storage)

**Node Details:**  

- **Extract Data from Snapshot Generated by BrightData**  
  - Type: HTTP Request  
  - Role: Retrieve scraped data snapshot JSON from Bright Data using snapshot_id  
  - Configuration:  
    - URL: https://api.brightdata.com/datasets/v3/snapshot/{{ $json.snapshot_id }}  
    - Method: GET  
    - Query Param: format=json  
    - Headers: Authorization Bearer token (Bright Data API token)  
  - Input: snapshot_id from wait node  
  - Output: JSON array of influencer profiles with fields like profile_id, profile_username, profile_url, profile_followers, description  
  - Potential failures: Invalid or expired snapshot_id, auth errors, network issues  
  - Sticky Note: "Fetches snapshot data (scraped influencer profiles) from Bright Data."

- **Update Data in the Google Sheet**  
  - Type: Google Sheets (append operation)  
  - Role: Store raw influencer profile data into a Google Sheet for record keeping and further processing  
  - Configuration:  
    - Operation: Append  
    - Sheet: "TikTok" (gid=0)  
    - Columns mapped: URL, Username, Followers, Profile ID, Description  
    - Matching columns: none (append mode)  
    - Credentials: Google Sheets OAuth2  
  - Input: Influencer data JSON from snapshot node  
  - Output: Confirmation of appended rows  
  - Edge cases: Sheet access errors, auth failures, quota exceeded  
  - Sticky Note: "Stores raw influencer data (ID, followers, description, etc.) in Google Sheets."

---

#### 1.4 AI-driven Influencer Analysis

**Overview:**  
Uses Anthropic Claude AI to analyze each influencer’s profile against business criteria to determine relevance and provide a brief explanation.

**Nodes Involved:**  
- Find the Collaborator (Langchain Agent)  
- Anthropic Chat Model  
- Sticky Notes (comments on AI model and evaluation)

**Node Details:**  

- **Find the Collaborator**  
  - Type: Langchain Agent (AI Language Model agent node)  
  - Role: Sends structured prompt to AI to evaluate influencer relevance based on profile and business data  
  - Configuration:  
    - Prompt: Social media expert role, includes influencer details (profile URL, description, followers, profile ID), business info (About My Business, Industry)  
    - Requirements: Followers > 5000, influencer must match industry, output JSON with Collaboration status (Not Relevant, Highly Relevant), Analysis (50 words), Profile ID  
    - Prompt type: Define (custom prompt)  
  - Input: Influencer data from Google Sheets append node and form data  
  - Output: Raw AI response with markdown JSON block  
  - Edge cases: AI model latency, malformed prompt, API quota or auth errors  
  - Sub-workflow: Calls Anthropic Chat Model (Claude 4 Sonnet) as language model node

- **Anthropic Chat Model**  
  - Type: Langchain LM Chat Anthropic  
  - Role: Executes the AI language model query using Claude Sonnet 4 (Claude 4 Sonnet)  
  - Configuration:  
    - Model: claude-sonnet-4-20250514  
    - Credentials: Anthropic API account  
  - Input: Prompt from Find the Collaborator node  
  - Output: AI-generated text containing JSON within markdown code block  
  - Edge cases: API errors, model unavailability, response format changes  
  - Sticky Note: "Claude Sonnet 4 model that powers the influencer analysis."

---

#### 1.5 Data Parsing and Logging

**Overview:**  
Parses the AI response to extract structured JSON fields (Collaboration, Analysis, Profile ID) and logs these insights back into Google Sheets.

**Nodes Involved:**  
- Code  
- Google Sheets1  
- Sticky Notes (comments on parsing and logging)

**Node Details:**  

- **Code**  
  - Type: Code (JavaScript)  
  - Role: Parse raw AI output markdown to extract JSON block with influencer analysis results  
  - Configuration:  
    - Extracts JSON inside triple backtick markdown block labeled `json`  
    - Safely handles parsing errors, returns empty fields with error messages if parsing fails  
    - Outputs Collaboration, Analysis, Profile_ID, plus original output string  
  - Input: AI raw output from Find the Collaborator node  
  - Output: Structured JSON for Google Sheets update  
  - Edge cases: Missing or malformed JSON, parsing exceptions  
  - Sticky Note: "Parses Claude AI's markdown output and extracts structured JSON fields for further use."

- **Google Sheets1**  
  - Type: Google Sheets (update operation)  
  - Role: Update existing Google Sheet rows with AI analysis results, matching on Profile ID  
  - Configuration:  
    - Operation: Update  
    - Matching columns: Profile ID  
    - Columns updated: Analysis, Profile ID, Collaboration  
    - Credentials: Google Sheets OAuth2  
  - Input: Parsed analysis JSON from Code node  
  - Output: Update confirmation  
  - Edge cases: Sheet access or permission errors, mismatched Profile IDs causing no update  
  - Sticky Note: "Logs Claude's insights (Profile ID, Collaboration status, Analysis) into Google Sheets."

---

#### 1.6 Filtering & Outreach

**Overview:**  
Filters the influencer list to only those marked “Highly Relevant” and sends personalized email notifications via Gmail with top influencer details.

**Nodes Involved:**  
- Filter  
- Gmail  
- Sticky Notes (comments on filtering and emailing)

**Node Details:**  

- **Filter**  
  - Type: Filter node  
  - Role: Pass only influencers with Collaboration field equal to "Highly Relevant" for outreach  
  - Configuration: Condition: Collaboration equals "Highly Relevant" (case sensitive, strict)  
  - Input: Updated influencer data from Google Sheets1  
  - Output: Filtered items with high relevance  
  - Edge cases: No matches result in no emails sent  
  - Sticky Note: "Filters results to retain only Highly Relevant influencers for email outreach."

- **Gmail**  
  - Type: Gmail node (send email)  
  - Role: Send personalized email to a fixed recipient with TikTok influencer details  
  - Configuration:  
    - To: demo@example.com (replace with actual target email)  
    - Subject: "Top TikTok Influencer Match for Your Business Collaboration"  
    - Body: Text email including Username, Profile URL, Followers fetched from Google Sheet data  
    - Credentials: Gmail OAuth2 account  
  - Input: Filtered highly relevant influencer data  
  - Output: Email send confirmation  
  - Edge cases: Email auth errors, quota exceeded, invalid email address  
  - Sticky Note: "Sends personalized collaboration email to your target contact with top influencer information."

---

### 3. Summary Table

| Node Name                                         | Node Type                           | Functional Role                               | Input Node(s)                            | Output Node(s)                         | Sticky Note                                                                                      |
|--------------------------------------------------|-----------------------------------|-----------------------------------------------|----------------------------------------|--------------------------------------|------------------------------------------------------------------------------------------------|
| Submit Form with Keyword, Business Info, Industry| Form Trigger                      | Entry point; collects user input               | -                                      | Scrape Data from TikTok through Keyword by BrightData | Triggers the workflow when user submits keyword, business info & industry via form.             |
| Scrape Data from TikTok through Keyword by BrightData | HTTP Request                     | Calls Bright Data API to trigger TikTok scraping | Submit Form with Keyword, Business Info, Industry | 3 Minute Wait Time                   | Calls Bright Data API to fetch TikTok profiles by keyword.                                      |
| 3 Minute Wait Time                                | Wait                              | Pauses workflow to allow scraping completion  | Scrape Data from TikTok through Keyword by BrightData | Extract Data from Snapshot Generated by BrightData | Waits 3 minutes to allow Bright Data to complete scraping.                                      |
| Extract Data from Snapshot Generated by BrightData | HTTP Request                     | Retrieves scraped TikTok profile data snapshot | 3 Minute Wait Time                     | Update Data in the Google Sheet       | Fetches snapshot data (scraped influencer profiles) from Bright Data.                           |
| Update Data in the Google Sheet                   | Google Sheets (Append)            | Stores raw influencer data in Google Sheets   | Extract Data from Snapshot Generated by BrightData | Find the Collaborator                | Stores raw influencer data (ID, followers, description, etc.) in Google Sheets.                 |
| Find the Collaborator                             | Langchain Agent                   | Sends influencer & business data to Claude AI for relevance analysis | Update Data in the Google Sheet          | Anthropic Chat Model, Code            | Uses Claude AI to evaluate each influencer's relevance to your business.                       |
| Anthropic Chat Model                              | LM Chat Anthropic                 | AI language model node (Claude Sonnet 4)       | Find the Collaborator                   | Find the Collaborator (loop back)     | Claude Sonnet 4 model that powers the influencer analysis.                                     |
| Code                                             | Code (JavaScript)                 | Parses AI raw markdown output to extract JSON results | Find the Collaborator                   | Google Sheets1                       | Parses Claude AI's markdown output and extracts structured JSON fields for further use.        |
| Google Sheets1                                   | Google Sheets (Update)            | Updates Google Sheet rows with AI evaluation data | Code                                  | Filter                              | Logs Claude's insights (Profile ID, Collaboration status, Analysis) into Google Sheets.         |
| Filter                                           | Filter                           | Filters for "Highly Relevant" influencers      | Google Sheets1                         | Gmail                              | Filters results to retain only Highly Relevant influencers for email outreach.                  |
| Gmail                                            | Gmail                           | Sends personalized email notification          | Filter                                | -                                  | Sends personalized collaboration email to your target contact with top influencer information. |

---

### 4. Reproducing the Workflow from Scratch

1. **Create Form Trigger Node**  
   - Node Type: Form Trigger  
   - Form Title: "TikTok Profile Scraper"  
   - Fields: "Search Keyword", "About My Business", "Industry"  
   - Save and note webhook URL for external form submission

2. **Create HTTP Request to Bright Data (Scrape Trigger)**  
   - Node Type: HTTP Request  
   - Method: POST  
   - URL: https://api.brightdata.com/datasets/v3/trigger  
   - Query Parameters:  
     - dataset_id: YOUR_BRIGHTDATA_DATASET_ID  
     - include_errors: true  
     - type: discover_new  
     - discover_by: keyword  
     - limit_per_input: 5  
   - Headers: Authorization: Bearer YOUR_BRIGHTDATA_API_TOKEN  
   - Body (JSON):  
     ```json
     {
       "input": [
         {
           "search_keyword": "{{ $json['Search Keyword'] }}",
           "country": ""
         }
       ],
       "custom_output_fields": [
         "url",
         "description",
         "profile_id",
         "profile_username",
         "profile_url",
         "profile_followers"
       ]
     }
     ```  
   - Connect form trigger output to this node

3. **Add Wait Node**  
   - Node Type: Wait  
   - Duration: 3 minutes  
   - Connect Bright Data scrape trigger node output to Wait node

4. **Create HTTP Request to Retrieve Snapshot Data**  
   - Node Type: HTTP Request  
   - Method: GET  
   - URL: https://api.brightdata.com/datasets/v3/snapshot/{{ $json.snapshot_id }}  
   - Query Parameter: format=json  
   - Headers: Authorization: Bearer YOUR_BRIGHTDATA_API_TOKEN  
   - Connect Wait node output to this node

5. **Create Google Sheets Append Node**  
   - Node Type: Google Sheets  
   - Operation: Append  
   - Sheet Name: "TikTok" (gid=0)  
   - Document ID: YOUR_GOOGLE_SHEET_URL  
   - Columns to Map: URL, Username, Followers, Profile ID, Description from snapshot data  
   - Connect Snapshot HTTP request node output to this node  
   - Configure Google Sheets OAuth2 credentials

6. **Create Langchain Agent Node ("Find the Collaborator")**  
   - Node Type: Langchain Agent  
   - Text Prompt: Use the detailed prompt specifying influencer profile data and business info, instruct AI to output JSON with Collaboration status, Analysis (50 words), and Profile ID  
   - Connect Google Sheets append node output to this node  
   - Include expressions to pass business info from form trigger node  
   - No matching columns needed here

7. **Create Anthropic Chat Model Node**  
   - Node Type: LM Chat Anthropic  
   - Model: claude-sonnet-4-20250514  
   - Credentials: Anthropic API account  
   - Connect Langchain Agent node’s AI language model output to this node

8. **Connect Anthropic Chat Model Node back to Langchain Agent Node**  
   - Connect Anthropic Chat Model output to Langchain Agent input (ai_languageModel channel)

9. **Create Code Node to Parse AI Output**  
   - Node Type: Code  
   - JavaScript code to extract JSON inside markdown from AI output, handle errors gracefully, output Collaboration, Analysis, Profile_ID, and original output  
   - Connect Langchain Agent main output to this node

10. **Create Google Sheets Update Node ("Google Sheets1")**  
    - Node Type: Google Sheets  
    - Operation: Update  
    - Document ID: YOUR_GOOGLE_SHEET_URL  
    - Sheet Name: "TikTok" (gid=0)  
    - Matching Columns: Profile ID  
    - Columns updated: Analysis, Profile ID, Collaboration  
    - Connect Code node output to this node  
    - Configure Google Sheets OAuth2 credentials

11. **Create Filter Node**  
    - Node Type: Filter  
    - Condition: Collaboration equals "Highly Relevant" (case-sensitive, strict)  
    - Connect Google Sheets update node output to this node

12. **Create Gmail Node**  
    - Node Type: Gmail  
    - Operation: Send email  
    - To: demo@example.com (replace with actual recipient)  
    - Subject: "Top TikTok Influencer Match for Your Business Collaboration"  
    - Body: Text including Username, TikTok Profile URL, Followers (using expressions to pull from Google Sheets row)  
    - Credentials: Gmail OAuth2 account  
    - Connect Filter node output to this node

13. **Add Sticky Notes for Documentation**  
    - Add sticky notes near each logical block explaining its purpose, matching the ones from the original workflow for clarity

14. **Test Workflow**  
    - Submit sample form data to trigger scraping  
    - Validate data flow through scraping, waiting, extraction, AI analysis, parsing, logging, filtering, and email sending  
    - Handle errors such as API failures, missing data, or parsing issues with appropriate workflow error handling or alerts if desired

---

### 5. General Notes & Resources

| Note Content                                                                                                           | Context or Link                                                                                  |
|------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| Workflow integrates Bright Data for live TikTok profile scraping.                                                      | Bright Data API documentation: https://brightdata.com/docs/api/datasets                      |
| Uses Anthropic Claude Sonnet 4 model for influencer relevance analysis.                                                | Anthropic API docs: https://docs.anthropic.com/                                               |
| Google Sheets OAuth2 credentials required for reading/updating influencer data.                                        | Google Sheets API: https://developers.google.com/sheets/api                                  |
| Gmail OAuth2 required for sending outreach emails.                                                                     | Gmail API OAuth2 setup: https://developers.google.com/gmail/api/auth/about-auth               |
| Users must replace placeholders like YOUR_BRIGHTDATA_API_TOKEN, YOUR_GOOGLE_SHEET_URL, YOUR_ANTHROPIC_CREDENTIAL_ID    | Critical for workflow to function securely and correctly                                      |
| The 3-minute wait is essential to allow Bright Data scraping snapshot generation; adjust if scraping speed varies.      | Consider adding error handling if snapshot is unavailable                                     |
| Prompt engineering in "Find the Collaborator" node is key to accurate AI evaluation; modify prompt for domain specifics | AI prompt tuning can improve relevance assessment                                             |

---

Disclaimer: The provided text is solely derived from an automated workflow created with n8n, a tool for integration and automation. This processing strictly complies with current content policies and contains no illegal, offensive, or protected elements. All handled data is legal and public.

---