Generate Guerrilla Marketing Campaign Plans with AI Swarm Intelligence

https://n8nworkflows.xyz/workflows/generate-guerrilla-marketing-campaign-plans-with-ai-swarm-intelligence-4553


# Generate Guerrilla Marketing Campaign Plans with AI Swarm Intelligence

### 1. Workflow Overview

This workflow, named **"Guerrilla Marketing Campaign Plan Generator (using Swarm Intelligence)"**, is designed to automatically generate a comprehensive guerrilla marketing campaign plan based on a user-provided business description or project idea. The workflow leverages multiple AI agents specialized in various aspects of marketing strategy to produce a detailed, structured plan suitable for real-world implementation.

The central innovation is the use of **Swarm Intelligence**—a loop where one AI agent generates a guerrilla marketing idea, and another critically evaluates it. If the idea is deemed unsuitable, the evaluator requests a new idea rather than iteratively improving the same one. This approach ensures the final campaign idea is both creative and feasible.

The workflow logic is logically divided into the following blocks:

- **1.1 Input Reception and Preprocessing**  
  Captures user input and prepares it for AI processing.

- **1.2 Swarm Intelligence Idea Generation & Validation**  
  Generates a guerrilla marketing idea and critically validates its feasibility, either accepting it or requesting a new idea.

- **1.3 Campaign Plan Content Generation**  
  Multiple specialized AI agents each generate a specific section of the campaign plan, from introduction to post-campaign analysis.

- **1.4 Results Aggregation and Finalization**  
  Merges all generated sections into a single comprehensive document, prepares it for download.

---

### 2. Block-by-Block Analysis

#### 1.1 Input Reception and Preprocessing

**Overview:**  
This block receives the initial chat message from the user describing their business or project idea. It extracts the input text and stores it for later use by downstream nodes.

**Nodes Involved:**  
- When chat message received  
- Input Parser

**Node Details:**

- **When chat message received**  
  - Type: Langchain Chat Trigger  
  - Role: Webhook trigger node that listens for incoming chat messages.  
  - Configuration: Default options, triggers on incoming chat input.  
  - Inputs: HTTP webhook request  
  - Outputs: Passes chat input JSON downstream.  
  - Failure Modes: No input, malformed data, webhook connectivity issues.

- **Input Parser**  
  - Type: Code (JavaScript)  
  - Role: Extracts and stores the original idea description from incoming JSON; stores it in workflow static data for global access.  
  - Key Code: Saves `chatInput` field as `originalIdea` in static data; outputs the same text under `output`.  
  - Inputs: From "When chat message received" node  
  - Outputs: Passes parsed text downstream.  
  - Failure Modes: Missing `chatInput` field or unexpected JSON structure.

---

#### 1.2 Swarm Intelligence Idea Generation & Validation

**Overview:**  
This block implements the Swarm Intelligence loop. The first agent generates an initial guerrilla marketing idea. The second agent critically evaluates this idea's feasibility and either accepts it or requests a new idea. Results are merged accordingly.

**Nodes Involved:**  
- Idea Generator  
- Market Analyst  
- Information Extractor  
- Idea is good enough? (If node)  
- Merge failed results  
- Merge successful result  
- combine outputs  
- Combine outputs  
- Sticky Note1

**Node Details:**

- **Idea Generator**  
  - Type: Langchain Agent  
  - Role: Creates a fresh, creative, and feasible guerrilla marketing idea based on the project description.  
  - Configuration: Prompt instructs to generate a unique guerrilla marketing idea with a brief explanation of problem solved and success potential.  
  - Inputs: From Input Parser (project description)  
  - Outputs: Generated idea text.  
  - Failure Modes: Incoherent or generic ideas; no output if unable to generate.

- **Market Analyst**  
  - Type: Langchain Agent  
  - Role: Critically evaluates the idea generated by Idea Generator focusing on feasibility, market fit, risks, and improvement.  
  - Configuration: Prompt requests a harsh, honest evaluation with clear acceptance/rejection and actionable feedback.  
  - Inputs: Idea Generator output  
  - Outputs: JSON with `isItAccepted` boolean and textual feedback.  
  - Failure Modes: Incorrect parsing, overly strict or lenient evaluations.

- **Information Extractor**  
  - Type: Langchain Information Extractor  
  - Role: Parses the Market Analyst's output to extract the boolean acceptance flag (`isItAccepted`).  
  - Configuration: Custom schema expecting `isItAccepted` boolean.  
  - Inputs: Market Analyst output  
  - Outputs: Parsed boolean flag for conditional routing.  
  - Failure Modes: Parsing errors if Market Analyst format changes.

- **Idea is good enough?** (If node)  
  - Type: If  
  - Role: Routes workflow based on acceptance of idea.  
  - Configuration: Condition set to true if `isItAccepted` is true.  
  - Inputs: Output from Information Extractor  
  - Outputs:  
    - True branch: proceeds with accepted idea processing  
    - False branch: proceeds to generate a new idea.  
  - Failure Modes: Logic errors if flag missing.

- **Merge failed results**, **Merge successful result**  
  - Type: Merge  
  - Role: Combine outputs from multiple branches for further processing.  
  - Inputs: From Idea Generator, Market Analyst, and downstream nodes.  
  - Outputs: Consolidated data for final combination.  
  - Failure Modes: Mismatched inputs.

- **combine outputs** & **Combine outputs**  
  - Type: Code  
  - Role: Concatenates original business description, generated idea, and critical feedback into a single summary string for downstream agents.  
  - Inputs: From merged nodes  
  - Outputs: Combined text output with session ID generation.  
  - Failure Modes: Missing inputs or workflow static data errors.

- **Sticky Note1**  
  - Content: Explains the Swarm Intelligence approach—two AI agents collaborate in a loop to generate and validate ideas, requesting new ideas if current ones fail.

---

#### 1.3 Campaign Plan Content Generation

**Overview:**  
This block comprises multiple specialized Langchain agent nodes, each responsible for writing a specific section of the guerrilla marketing plan based on the validated project description and idea. Each node acts as an expert in its domain, producing clear, high-level, and actionable text.

**Nodes Involved:**  
- Simple Memory (shared context for all agents)  
- Introduction Writer  
- Campaign Definition Agent  
- Campaign Objectives Specialist  
- Current Situation Analyst  
- Target Persona Researcher  
- Key Messaging Specialist  
- Main Strategy Architect  
- guerrilla Tactics Designer  
- Channel Strategy Expert  
- Execution Planner  
- Budget Planning Specialist  
- Monitoring and KPIs Expert  
- Risk Management Expert  
- Do's and Don'ts Advisor  
- Final To-Do List Creator  
- Post-Campaign Analyst  
- Sticky Note4

**Node Details:**

Each agent node:

- Type: Langchain Agent  
- Role: Writes a dedicated section of the marketing campaign plan  
- Configuration: Custom prompt with detailed instructions tailored to the subject matter (e.g., SWOT analysis, budget planning, risk management).  
- Inputs: The combined project description and idea text with session context from "Simple Memory" node.  
- Outputs: Clear, structured paragraphs or bullet points as per instructions.  
- Key expressions: Reference `{{ $json.output }}` for project description and idea.  
- Failure Modes: Incomplete input data, model timeouts, or generic outputs without actionable insights.

**Simple Memory**  
- Type: Langchain Memory Buffer Window  
- Role: Maintains conversational context with a 15-step window using session ID for coherence across all agent nodes.  
- Configuration: Uses `session_id` from combined outputs for consistent memory key.  
- Inputs: Session ID and combined text  
- Outputs: Contextual input for agents.

**Sticky Note4**  
- Content: Explains that each node is a specialized agent writing a single chapter with deep expertise.

---

#### 1.4 Results Aggregation and Finalization

**Overview:**  
This block merges all individual section outputs into a single structured document, formats it into Markdown, and prepares it for download.

**Nodes Involved:**  
- Merge results 1/2  
- Merge results 2/2  
- Merge results  
- Result organizer  
- Final result  
- Sticky Note3  
- Sticky Note5

**Node Details:**

- **Merge results 1/2** and **Merge results 2/2**  
  - Type: Merge (multiple inputs)  
  - Role: Incrementally combine the outputs from all specialized agents in two batches for efficient handling.  
  - Inputs: Outputs from 10 and 6 agents respectively.  
  - Outputs: Two merged collections of text.  
  - Failure Modes: Missing inputs or partial failures.

- **Merge results**  
  - Type: Merge  
  - Role: Combines the two halves into one complete set of section outputs.  
  - Inputs: From the two previous merge nodes  
  - Outputs: Single merged output array.  
  - Failure Modes: Timing or input mismatch.

- **Result organizer**  
  - Type: Code  
  - Role:  
    - Decodes and processes each section’s text for proper newline formatting.  
    - Assembles a Markdown-formatted document with clear section headers.  
    - Returns both a raw JSON array of sections and a concatenated Markdown string.  
  - Inputs: From "Merge results" node  
  - Outputs: Object with `raw_output` (array of sections) and `text` (Markdown string).  
  - Failure Modes: Text decoding errors, malformed input.

- **Final result**  
  - Type: Convert to File  
  - Role: Converts the Markdown text into a downloadable `.md` file named `marketing_plan.md`.  
  - Inputs: From "Result organizer" node  
  - Outputs: Binary file data for download.  
  - Failure Modes: File conversion errors.

- **Sticky Note3**  
  - Content: Notes that this block merges all outputs into the final document.

- **Sticky Note5**  
  - Content: Instructions for user to download the final result and contact info for support.

---

### 3. Summary Table

| Node Name                   | Node Type                        | Functional Role                              | Input Node(s)                                  | Output Node(s)                             | Sticky Note                                                                                           |
|-----------------------------|---------------------------------|----------------------------------------------|------------------------------------------------|-------------------------------------------|-----------------------------------------------------------------------------------------------------|
| When chat message received  | Langchain Chat Trigger           | Receives user chat input                      | Webhook trigger                                | Input Parser                              | How to Use It: Instructions to start, provide detailed input, and Swarm Intelligence feature info.  |
| Input Parser                | Code                            | Parses and stores original idea               | When chat message received                      | Idea Generator                            |                                                                                                     |
| Idea Generator              | Langchain Agent                  | Generates initial guerrilla marketing idea    | Input Parser                                    | Market Analyst, Merge failed results, Merge successful result | Swarm Intelligence explanation: idea generation & critique loop.                                    |
| Market Analyst              | Langchain Agent                  | Critically evaluates the generated idea       | Idea Generator                                  | Information Extractor, Merge failed results, Merge successful result |                                                                                                     |
| Information Extractor       | Langchain Information Extractor | Extracts acceptance boolean from analyst output | Market Analyst                                  | Idea is good enough?                      |                                                                                                     |
| Idea is good enough?        | If                              | Routes flow based on idea acceptance          | Information Extractor                           | Merge successful result, Merge failed results |                                                                                                     |
| Merge failed results        | Merge                           | Merges outputs when idea rejected              | Idea Generator, Market Analyst, Information Extractor | combine outputs                          |                                                                                                     |
| Merge successful result     | Merge                           | Merges outputs when idea accepted              | Idea Generator, Market Analyst, Information Extractor | Combine outputs                          |                                                                                                     |
| combine outputs             | Code                            | Combines description, idea, and feedback       | Merge failed results                            | Input to content generation agents       |                                                                                                     |
| Combine outputs             | Code                            | Combines description, idea, and feedback       | Merge successful result                         | Campaign plan agent nodes                 |                                                                                                     |
| Simple Memory               | Langchain Memory Buffer Window  | Maintains session context for all agents       | Session ID from Combine outputs                 | All campaign plan agent nodes             |                                                                                                     |
| Introduction Writer         | Langchain Agent                 | Writes Introduction section                     | Combine outputs, Simple Memory                   | Merge results 1/2                         | Writing Individual Chapters: each agent writes a dedicated section.                                 |
| Campaign Definition Agent   | Langchain Agent                 | Writes Campaign Definition section              | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Campaign Objectives Specialist | Langchain Agent             | Writes Campaign Objectives section              | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Current Situation Analyst   | Langchain Agent                 | Writes Current Situation Analysis section       | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Target Persona Researcher   | Langchain Agent                 | Writes Target Audience Persona section          | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Key Messaging Specialist    | Langchain Agent                 | Writes Key Messaging section                     | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Main Strategy Architect     | Langchain Agent                 | Writes Main Marketing Strategy section          | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| guerrilla Tactics Designer  | Langchain Agent                 | Writes Guerrilla Marketing Tactics section      | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Channel Strategy Expert     | Langchain Agent                 | Writes Channels & Distribution section           | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Execution Planner           | Langchain Agent                 | Writes Execution Plan section                     | Combine outputs, Simple Memory                   | Merge results 1/2                         |                                                                                                     |
| Budget Planning Specialist  | Langchain Agent                 | Writes Budget Planning section                    | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Monitoring and KPIs Expert  | Langchain Agent                 | Writes Monitoring and KPIs section                | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Risk Management Expert      | Langchain Agent                 | Writes Risk Management section                     | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Do's and Don'ts Advisor     | Langchain Agent                 | Writes Do’s and Don’ts section                     | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Final To-Do List Creator    | Langchain Agent                 | Writes Final To-Do List section                    | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Post-Campaign Analyst       | Langchain Agent                 | Writes Post-Campaign Activities section            | Combine outputs, Simple Memory                   | Merge results 2/2                         |                                                                                                     |
| Merge results 1/2           | Merge                           | Merges first 10 campaign section outputs           | Introduction Writer ... Execution Planner        | Merge results                            | Merging all outputs.                                                                                |
| Merge results 2/2           | Merge                           | Merges last 6 campaign section outputs              | Budget Planning Specialist ... Post-Campaign Analyst | Merge results                          |                                                                                                     |
| Merge results               | Merge                           | Combines all campaign section outputs               | Merge results 1/2, Merge results 2/2             | Result organizer                        |                                                                                                     |
| Result organizer            | Code                            | Formats and assembles all sections into Markdown     | Merge results                                    | Final result                           |                                                                                                     |
| Final result                | Convert To File                 | Converts final Markdown text to downloadable file     | Result organizer                                 | (end)                                  | End of Process: instructions for downloading and support contact.                                 |
| Sticky Note2                | Sticky Note                    | Notes on changing LLM models                          | (none)                                           | (none)                                 | LLM is changeable; Ollama or other models recommended with Swarm Intelligence active.              |

---

### 4. Reproducing the Workflow from Scratch

1. **Create Trigger Node: "When chat message received"**  
   - Type: Langchain Chat Trigger  
   - Configure default webhook settings to receive chat input.

2. **Create Code Node: "Input Parser"**  
   - Type: Code  
   - JS Code: Extract `chatInput` from incoming JSON, store it in global static data as `originalIdea`.  
   - Connect trigger output to this node.

3. **Create Langchain Agent Node: "Idea Generator"**  
   - Prompt: Generate a fresh, feasible guerrilla marketing idea with brief explanation.  
   - Input: Output from "Input Parser".  
   - Configure OpenAI credentials (or preferred LLM).  
   - Use model e.g., GPT-4.1-mini or equivalent.

4. **Create Langchain Agent Node: "Market Analyst"**  
   - Prompt: Critically evaluate the idea for feasibility and market fit.  
   - Input: Output from "Idea Generator".  
   - Same LLM credentials.

5. **Create Langchain Information Extractor Node: "Information Extractor"**  
   - Schema: JSON with boolean `isItAccepted`.  
   - Input: Output from "Market Analyst".  
   - Extract acceptance flag.

6. **Create If Node: "Idea is good enough?"**  
   - Condition: `isItAccepted == true`  
   - Input: Output from "Information Extractor".  
   - True branch: proceeds to merge successful result.  
   - False branch: proceeds to merge failed results.

7. **Create Merge Nodes:**  
   - "Merge successful result" merges outputs from Idea Generator, Market Analyst, Information Extractor.  
   - "Merge failed results" merges the same nodes for the false branch.

8. **Create Code Nodes:**  
   - "Combine outputs": Concatenates original idea, generated idea, and feedback from successful results branch.  
   - "combine outputs": Similar concatenation for failed results branch.

9. **Connect "Combine outputs" and "combine outputs" to all campaign plan agent nodes.**

10. **Create Langchain Memory Node: "Simple Memory"**  
    - Use `session_id` from combined outputs for session key.  
    - Context window length: 15.

11. **Create Campaign Plan Agent Nodes (16 total):**  
    For each, configure prompt as per their role:  
    - Introduction Writer  
    - Campaign Definition Agent  
    - Campaign Objectives Specialist  
    - Current Situation Analyst  
    - Target Persona Researcher  
    - Key Messaging Specialist  
    - Main Strategy Architect  
    - guerrilla Tactics Designer  
    - Channel Strategy Expert  
    - Execution Planner  
    - Budget Planning Specialist  
    - Monitoring and KPIs Expert  
    - Risk Management Expert  
    - Do's and Don'ts Advisor  
    - Final To-Do List Creator  
    - Post-Campaign Analyst  

    - Input each from "Combine outputs" and use "Simple Memory" for context.  
    - Connect all outputs to "Merge results 1/2" (first 10 agents) and "Merge results 2/2" (last 6 agents).

12. **Create Merge Nodes:**  
    - "Merge results 1/2": merge outputs of first 10 agents.  
    - "Merge results 2/2": merge outputs of last 6 agents.  
    - "Merge results": merge these two merges.

13. **Create Code Node: "Result organizer"**  
    - JS code to decode, format, and assemble each section with Markdown headers.  
    - Input: "Merge results" output.

14. **Create Convert to File Node: "Final result"**  
    - Input: "Result organizer" Markdown text.  
    - Operation: Convert to `.md` file named `marketing_plan.md`.

15. **Set Credentials:**  
    - Configure OpenAI API or other LLM credentials in all Langchain agent nodes.  
    - Ensure webhook and memory nodes are properly configured.

16. **Optional:**  
    - Add Sticky Notes with explanatory content at appropriate workflow locations for user guidance.

---

### 5. General Notes & Resources

| Note Content                                                                                         | Context or Link                                         |
|----------------------------------------------------------------------------------------------------|--------------------------------------------------------|
| To get started, open the chat and describe your business with as much detail as possible.          | Sticky Note on usage instructions.                      |
| Swarm Intelligence involves two AI agents: one generating ideas, the other critically validating. | Sticky Note1 explaining the mission-critical idea loop.|
| LLM model can be replaced with Ollama or others; reasonable models recommended if Swarm active.   | Sticky Note2 about LLM model flexibility.               |
| Each campaign section is generated by an AI agent specialized in that topic.                       | Sticky Note4 on writing individual chapters.           |
| After all steps, download the final Markdown file from the final node.                             | Sticky Note5 with download instructions and contact info.|
| For questions or feedback, contact: sinamirshafiee@gmail.com                                      | Contact email in Sticky Notes.                          |

---

**Disclaimer:** The provided text and workflow are generated exclusively by an automated n8n workflow using AI models, respecting content policies, and handling only legal and public data.