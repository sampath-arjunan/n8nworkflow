Daily AI News Digest with Perplexity AI and Gmail Automation

https://n8nworkflows.xyz/workflows/daily-ai-news-digest-with-perplexity-ai-and-gmail-automation-8346


# Daily AI News Digest with Perplexity AI and Gmail Automation

### 1. Workflow Overview

This workflow automates the daily delivery of the latest Artificial Intelligence (AI) news updates via email. It is designed to run once every day at a fixed time, fetch fresh AI and technology news from trusted sources using the Perplexity AI API, format the retrieved content into a polished HTML email, and send it through Gmail to a designated recipient.

The workflow is logically divided into four main blocks:

- **1.1 Schedule Trigger:** Automatically initiates the workflow daily at 10:00 AM.
- **1.2 AI News Retrieval (Perplexity Model):** Queries Perplexity AI's `sonar-pro` model to generate a curated list of AI news items from the past 24 hours, formatted as a complete HTML document.
- **1.3 Email Preparation (HTML Node):** Processes the AI-generated HTML content to ensure it is valid and ready to be sent as an email body.
- **1.4 Email Delivery (Gmail Node):** Sends the formatted AI news email to the specified recipient.

---

### 2. Block-by-Block Analysis

#### 2.1 Schedule Trigger

- **Overview:**  
  This block schedules the workflow to run automatically every day at 10:00 AM, eliminating the need for manual triggering.

- **Nodes Involved:**  
  - Schedule Trigger

- **Node Details:**

  - **Schedule Trigger**  
    - **Type:** `n8n-nodes-base.scheduleTrigger`  
    - **Technical Role:** Initiates the workflow execution based on a time schedule.  
    - **Configuration:**  
      - Runs once daily at 10:00 AM (hour-based trigger).  
    - **Inputs:** None (trigger node).  
    - **Outputs:** Triggers the "Message a model" node.  
    - **Version Requirements:** Compatible with n8n versions supporting schedule trigger v1.2 or later.  
    - **Potential Failures:**  
      - If n8n server time zone differs from expected, the trigger time may be off.  
      - Workflow not running if n8n instance is offline at trigger time.  
    - **Sticky Note:** Explains the purpose and configuration for scheduled automatic trigger.

---

#### 2.2 AI News Retrieval (Perplexity Model)

- **Overview:**  
  This block queries the Perplexity AI API using the `sonar-pro` model to fetch the most recent AI and tech news from the past 24 hours. It instructs the model to output a fully styled HTML document suitable for email, including headlines, summaries, and URLs.

- **Nodes Involved:**  
  - Message a model (Perplexity AI node)

- **Node Details:**

  - **Message a model**  
    - **Type:** `n8n-nodes-base.perplexity`  
    - **Technical Role:** Sends a prompt to Perplexity AI to retrieve and format AI news content.  
    - **Configuration:**  
      - Model: `sonar-pro` (advanced model for in-depth responses).  
      - Messages:  
        - System role message instructs the model to fetch AI news from trusted sources within the past 24 hours.  
        - Specifies output as a complete self-contained HTML document with inline CSS styling.  
        - Defines formatting rules: headlines bold, summaries normal text, links clickable, light background, card-style boxes for news items.  
      - User prompt requests latest AI headlines, including model launches and market news.  
      - Simplify option enabled for streamlined response parsing.  
    - **Inputs:** Receives trigger from Schedule Trigger node.  
    - **Outputs:** Passes the generated HTML content downstream to both the Gmail node and the HTML node.  
    - **Version Requirements:** Requires valid Perplexity API credentials and compatible n8n Perplexity node version.  
    - **Potential Failures:**  
      - API authentication errors if credentials invalid or expired.  
      - API timeouts or rate limits if called too frequently.  
      - Model may return malformed HTML if instructions are ambiguous.  
      - Network connectivity issues.  
    - **Credentials:** Uses Perplexity API credentials named "Perplexity account".  
    - **Sticky Note:** Details the purpose of fetching fresh AI news and formatting requirements.

---

#### 2.3 Email Preparation (HTML Node)

- **Overview:**  
  This block receives the raw HTML content generated by the Perplexity AI node and processes it to ensure it is valid HTML suitable for sending as an email body.

- **Nodes Involved:**  
  - Generate Preview of New (HTML node)

- **Node Details:**

  - **Generate Preview of New**  
    - **Type:** `n8n-nodes-base.html`  
    - **Technical Role:** Processes and verifies HTML content, enabling preview and ensuring the email content is properly structured.  
    - **Configuration:**  
      - Input HTML expression: `{{ $json.message }}` â€” uses the HTML generated by the AI model.  
    - **Inputs:** Receives data from "Message a model" node.  
    - **Outputs:** (No further nodes connected here, but could be used for preview or validation.)  
    - **Version Requirements:** Should be compatible with n8n HTML node version 1.2 or later.  
    - **Potential Failures:**  
      - If the input HTML is malformed, the node may fail or produce unexpected output.  
      - Expression evaluation failures if `$json.message` is missing or empty.  
    - **Sticky Note:** Emphasizes the importance of preparing clean, styled HTML for email sending.

---

#### 2.4 Email Delivery (Gmail Node)

- **Overview:**  
  This block sends the curated AI news as an email to the specified recipient, using the formatted HTML content as the message body.

- **Nodes Involved:**  
  - Send a message (Gmail node)

- **Node Details:**

  - **Send a message**  
    - **Type:** `n8n-nodes-base.gmail`  
    - **Technical Role:** Sends an email via Gmail API using OAuth2 authentication.  
    - **Configuration:**  
      - Recipient: `xyz@gmail.com` (hardcoded email address).  
      - Subject: "Latest Tech and AI news update ðŸš€".  
      - Message Body: Uses the expression `={{ $json.message }}` to inject the HTML content from the Perplexity node.  
      - No additional options configured (e.g., no CC or attachments).  
    - **Inputs:** Receives output from "Message a model" node (same as HTML node).  
    - **Outputs:** None (end of workflow).  
    - **Credentials:** Uses Gmail OAuth2 credentials named "Gmail account".  
    - **Version Requirements:** Requires n8n Gmail node version 2.1 or later, and valid OAuth2 credentials with send email scope.  
    - **Potential Failures:**  
      - Authentication errors if OAuth2 token expired or revoked.  
      - Sending limits or Gmail API quota exceeded.  
      - Invalid email address format.  
      - HTML content issues causing email rendering problems.  
    - **Sticky Note:** Explains the email sending setup and its critical role.

---

### 3. Summary Table

| Node Name           | Node Type                   | Functional Role                   | Input Node(s)         | Output Node(s)          | Sticky Note                                                                                                                   |
|---------------------|-----------------------------|---------------------------------|-----------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------|
| Schedule Trigger     | scheduleTrigger             | Initiates workflow daily at 10AM| None                  | Message a model          | Starts the workflow automatically at 10:00 AM every day.                                                                     |
| Message a model      | perplexity                 | Fetches AI news and formats HTML| Schedule Trigger      | Send a message, HTML     | Fetches latest AI news in styled HTML from trusted sources using Perplexity API.                                              |
| Send a message       | gmail                      | Sends email with AI news content | Message a model       | None                    | Sends the AI news email to xyz@gmail.com with subject "Latest Tech and AI news update ðŸš€".                                    |
| Generate Preview of New | html                      | Processes and verifies HTML content| Message a model       | None                    | Processes AI-generated HTML ensuring clean, styled content for email sending.                                                |
| Sticky Note          | stickyNote                 | Documentation                   | None                  | None                    | 1. Schedule Trigger explanation.                                                                                              |
| Sticky Note1         | stickyNote                 | Documentation                   | None                  | None                    | 2. Message a Model (Perplexity API) explanation.                                                                              |
| Sticky Note2         | stickyNote                 | Documentation                   | None                  | None                    | 3. Send a Message (Gmail) explanation.                                                                                        |
| Sticky Note3         | stickyNote                 | Documentation                   | None                  | None                    | 4. HTML Node explanation.                                                                                                     |

---

### 4. Reproducing the Workflow from Scratch

1. **Create a new workflow in n8n.**

2. **Add a Schedule Trigger node:**  
   - Node type: `Schedule Trigger`  
   - Set the trigger to run daily at 10:00 AM (set "Trigger At Hour" to 10).  
   - This will start the workflow automatically each day.

3. **Add a Perplexity node:**  
   - Node type: `Perplexity`  
   - Configure credentials using your Perplexity API credentials (named "Perplexity account" or your own).  
   - Set model to `sonar-pro`.  
   - In the "Messages" parameter:  
     - Add a system message with detailed instructions:  
       - Retrieve AI news from the past 24 hours from trusted sources.  
       - Format output as a single self-contained HTML document with inline CSS suitable for email.  
       - Include bold headlines, normal text summaries, clickable full URLs, light background, and card style boxes.  
     - Add a user message prompting: "what are the latest headline in ai development in the 24 hours? include any model launches or market news."  
   - Enable the "Simplify" option for easier output handling.  
   - Connect the Schedule Trigger node output to this node input.

4. **Add a Gmail node:**  
   - Node type: `Gmail`  
   - Configure Gmail OAuth2 credentials (named "Gmail account" or your own with send mail permissions).  
   - Set "Send To" to the target recipient email address, e.g., `xyz@gmail.com`.  
   - Set "Subject" to: `Latest Tech and AI news update ðŸš€`.  
   - Set the "Message" field to the expression: `={{ $json.message }}` to inject Perplexity's HTML output.  
   - Connect the Perplexity node output to this Gmail node input.

5. **Add an HTML node:**  
   - Node type: `HTML`  
   - In the "HTML" parameter, set the expression: `{{ $json.message }}` to process the AI-generated HTML content.  
   - Connect the Perplexity node output to this HTML node input.  
   - Note: This node can be used for previewing or further processing the email content.

6. **Verify connections:**  
   - Schedule Trigger â†’ Message a model (Perplexity)  
   - Message a model â†’ Send a message (Gmail)  
   - Message a model â†’ Generate Preview of New (HTML)

7. **Set workflow active and save.**

8. **Test the workflow by running it manually or waiting for the scheduled trigger.**

---

### 5. General Notes & Resources

| Note Content                                                                                                                  | Context or Link                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|
| The workflow leverages Perplexity AI's advanced `sonar-pro` model to ensure fresh, accurate, and relevant AI news content.   | n8n Perplexity node documentation: https://docs.n8n.io/integrations/builtin/nodes/n8n-nodes-base.perplexity/      |
| The HTML email styling uses inline CSS to ensure compatibility across most email clients.                                      | Email HTML/CSS best practices: https://www.campaignmonitor.com/css/                                               |
| Gmail node requires OAuth2 credentials with proper scopes to send emails; ensure token refresh is handled by n8n.             | Gmail API OAuth2 setup guide: https://developers.google.com/identity/protocols/oauth2                                |
| Scheduled workflows depend on the n8n instance uptime and correct timezone configuration to trigger on time.                  | n8n timezone configuration docs: https://docs.n8n.io/reference/timezones/                                          |

---

**Disclaimer:** The text provided originates exclusively from an automated workflow created with n8n, a tool for integration and automation. This processing strictly complies with applicable content policies and contains no illegal, offensive, or protected elements. All processed data is legal and public.