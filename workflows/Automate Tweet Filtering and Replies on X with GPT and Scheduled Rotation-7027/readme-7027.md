Automate Tweet Filtering and Replies on X with GPT and Scheduled Rotation

https://n8nworkflows.xyz/workflows/automate-tweet-filtering-and-replies-on-x-with-gpt-and-scheduled-rotation-7027


# Automate Tweet Filtering and Replies on X with GPT and Scheduled Rotation

### 1. Workflow Overview

This workflow automates professional engagement on X (formerly Twitter) by systematically searching for tweets on rotating topics, filtering them via GPT for relevance and quality, and then liking and replying with professional comments generated by GPT. It targets professionals such as developers, engineers, and recruiters who want to maintain a consistent, automated presence on X by engaging with curated content relevant to their roles.

The workflow is logically divided into these blocks:

- **1.1 Trigger and Scheduling:** Initiates the workflow either manually or on a scheduled interval (every 3 days by default).
- **1.2 Topic Selection and Rotation:** Maintains a rotating index to cycle through a pre-defined list of search terms/topics.
- **1.3 Tweet Search and Extraction:** Uses the rotating topic to search X for recent tweets and extracts key tweet data.
- **1.4 GPT-Based Filtering:** Filters the raw tweets with GPT to retain only those matching strict professional relevance criteria.
- **1.5 Tweet Engagement Loop:** For each filtered tweet, likes the tweet, generates a professional reply with GPT, waits to comply with API limits, and posts the reply.

---

### 2. Block-by-Block Analysis

#### 2.1 Trigger and Scheduling

**Overview:**  
Starts the workflow on demand or automatically every 3 days at 9 AM.

**Nodes Involved:**  
- When clicking ‘Execute workflow’ (Manual Trigger)  
- Schedule Trigger

**Node Details:**

- **When clicking ‘Execute workflow’**  
  - Type: Manual Trigger.  
  - Role: Allows manual start of the entire workflow for testing or immediate execution.  
  - Connections: Outputs to "Set search Terms".  
  - Edge Cases: Manual trigger does not handle scheduling and is only for direct user invocation.

- **Schedule Trigger**  
  - Type: Schedule Trigger.  
  - Configuration: Runs every 3 days at 9:00 AM.  
  - Role: Automatically starts the workflow on the configured schedule.  
  - Connections: Outputs to "Set search Terms".  
  - Edge Cases: If the schedule is changed, ensure code in "Rotating Slot Index Generator" is updated accordingly.  
  - Notes: Alternative code for daily scheduling is provided in comments within the code node.

---

#### 2.2 Topic Selection and Rotation

**Overview:**  
Defines search terms and a user role, then calculates a rotating index to cycle through topics to diversify tweet searches over time.

**Nodes Involved:**  
- Set search Terms  
- Rotating Slot Index Generator

**Node Details:**

- **Set search Terms**  
  - Type: Set Node.  
  - Configuration:  
    - `searchTerms`: Array of 10 topics (e.g., "AI Engineer", "Fullstack developer", "JavaScript developer", etc.)  
    - `role`: String describing the professional role, e.g., "Fullstack Developer and AI Engineer".  
  - Role: Supplies variables used downstream including search keyword selection and GPT prompt context.  
  - Connections: Outputs to "Rotating Slot Index Generator".  
  - Edge Cases: If the array is empty or mismatched with the index logic, errors or empty queries may occur.

- **Rotating Slot Index Generator**  
  - Type: Code Node (JavaScript).  
  - Configuration: Calculates an index from 0 to 9 based on number of days elapsed since a fixed base date (2025-01-01). Each slot lasts 3 days, cycling through 10 topics.  
  - Role: Provides the index used to pick the current topic from `searchTerms`.  
  - Key Expression:  
    ```js
    const baseDate = new Date("2025-01-01");
    const today = new Date();
    const diffInDays = Math.floor((today - baseDate) / (1000 * 60 * 60 * 24));
    const index = Math.floor(diffInDays / 3) % 10;
    return [{ json: { index } }];
    ```  
  - Connections: Outputs to "X (Formerly Twitter) Search terms".  
  - Edge Cases: If system date/time is incorrect, the index may misalign with expected topics.

---

#### 2.3 Tweet Search and Extraction

**Overview:**  
Searches X for tweets matching the current topic and extracts minimal tweet data (id and text) for processing.

**Nodes Involved:**  
- X (Formerly Twitter) Search terms  
- Group Tweets into a Single Array  
- GPT Topic Selector (filters tweets)  
- Extract Tweets from JSON

**Node Details:**

- **X (Formerly Twitter) Search terms**  
  - Type: X (Twitter) API Node.  
  - Configuration:  
    - Operation: Search tweets.  
    - Search Text: Uses expression to select the current topic from `searchTerms` by index:  
      `={{ $('Set search Terms').item.json.searchTerms[$json.index] }}`  
    - Limit: 10 tweets per query.  
  - Role: Retrieves recent tweets matching the rotating topic.  
  - Connections: Outputs to "Group Tweets into a Single Array".  
  - Requirements: Must have valid X API credentials configured.  
  - Edge Cases: API rate limits, invalid credentials, or empty search results.

- **Group Tweets into a Single Array**  
  - Type: Code Node.  
  - Configuration: Combines multiple tweet items into a single object with a `tweets` array containing `{id, text}` pairs.  
  - Role: Packages tweets into a JSON array for GPT filtering.  
  - Connections: Outputs to "GPT Topic Selector".  
  - Edge Cases: Empty input items lead to empty arrays.

- **GPT Topic Selector**  
  - Type: OpenAI (LangChain) Node.  
  - Configuration:  
    - Model: GPT-4.1.  
    - System Prompt: AI assistant filtering tweets by language, content type (no memes, politics, spam), excluding entry-level internships and AI-bot generated content.  
    - User Message: Passes JSON stringified tweets array.  
    - Output: JSON with filtered tweets in a `results` array.  
  - Role: Filters raw tweets to keep only professionally relevant ones.  
  - Credentials: Requires OpenAI API key.  
  - Connections: Outputs to "Extract Tweets from JSON".  
  - Edge Cases: API errors, malformed input, or prompt failures may cause empty or invalid responses.

- **Extract Tweets from JSON**  
  - Type: Code Node.  
  - Configuration: Parses GPT output, extracting `id` and `text` for each filtered tweet, returning them as individual items.  
  - Role: Converts filtered tweets into individual items for looping.  
  - Connections: Outputs to "Loop Over Items".  
  - Edge Cases: Unexpected JSON structure from GPT can cause parsing errors.

---

#### 2.4 Tweet Engagement Loop

**Overview:**  
Processes each filtered tweet: likes it, generates a professional reply using GPT, waits to comply with rate limits, and posts the reply.

**Nodes Involved:**  
- Loop Over Items  
- Wait  
- X (Formerly Twitter) Like Tweet  
- GPT Tweet Response  
- Wait1  
- X (Formerly Twitter) Post Reply

**Node Details:**

- **Loop Over Items**  
  - Type: Split In Batches.  
  - Configuration: Processes tweets one by one (batch size 1), no reset after completion.  
  - Role: Ensures sequential processing to comply with API limits.  
  - Connections:  
    - Main output to "Wait".  
    - Error output to itself (loop retry not explicitly configured).  
  - Edge Cases: If a tweet causes failure, the loop continues with next item.

- **Wait**  
  - Type: Wait Node.  
  - Configuration: Waits 15 minutes between liking and reply generation.  
  - Role: Rate limit compliance after liking a tweet.  
  - Connections: Outputs to "X (Formerly Twitter) Like Tweet".

- **X (Formerly Twitter) Like Tweet**  
  - Type: X (Twitter) API Node.  
  - Configuration: Likes the tweet using its `id`.  
  - Role: Engages by liking the tweet before replying.  
  - Connections: Outputs to "GPT Tweet Response".  
  - Error Handling: On error, continues regular output to avoid breaking the loop.  
  - Edge Cases: API rate limits, already liked tweets, invalid tweet IDs.

- **GPT Tweet Response**  
  - Type: OpenAI (LangChain) Node.  
  - Configuration:  
    - Model: GPT-4.1.  
    - System prompt: Writes a short, professional, language-matched reply (max 280 characters) without fluff or links unless strictly allowed.  
    - User message: Includes original tweet text.  
  - Role: Generates personalized replies to tweets.  
  - Credentials: Requires OpenAI API key.  
  - Connections: Outputs to "Wait1".  
  - Edge Cases: API errors, prompt failures, or exceeding character limits.

- **Wait1**  
  - Type: Wait Node.  
  - Configuration: Waits 15 minutes after reply generation before posting.  
  - Role: Complies with API rate limiting for posting replies.  
  - Connections: Outputs to "X (Formerly Twitter) Post Reply".

- **X (Formerly Twitter) Post Reply**  
  - Type: X (Twitter) API Node.  
  - Configuration: Posts the generated reply as a reply to the original tweet (`inReplyToStatusId` set to tweet id).  
  - Role: Publishes the generated professional reply on X.  
  - Connections: Outputs back to "Loop Over Items" to continue with next tweet.  
  - Edge Cases: API errors, invalid tweet IDs, reply restrictions.

---

### 3. Summary Table

| Node Name                      | Node Type                    | Functional Role                                | Input Node(s)                      | Output Node(s)                     | Sticky Note                                                                                                          |
|-------------------------------|------------------------------|------------------------------------------------|----------------------------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------|
| When clicking ‘Execute workflow’ | Manual Trigger               | Manual start trigger                             |                                  | Set search Terms                  |                                                                                                                      |
| Schedule Trigger               | Schedule Trigger             | Scheduled start every 3 days at 9 AM            |                                  | Set search Terms                  | # Configure Your Variables: explains schedule and code adjustments for frequency changes                             |
| Set search Terms              | Set                          | Defines search topics array and role variable   | When clicking ‘Execute workflow’, Schedule Trigger | Rotating Slot Index Generator    | # Configure Your Variables: details on setting topics and role                                                         |
| Rotating Slot Index Generator  | Code                         | Calculates rotating index for topic selection   | Set search Terms                  | X (Formerly Twitter) Search terms | # Configure Your Variables: explains index calculation and scheduling                                                  |
| X (Formerly Twitter) Search terms | Twitter API Node            | Searches tweets on X using current topic        | Rotating Slot Index Generator     | Group Tweets into a Single Array  | # X (Twitter) Search Terms Node: notes on API credentials and tweet extraction                                         |
| Group Tweets into a Single Array | Code                        | Combines tweets into single array JSON           | X (Formerly Twitter) Search terms | GPT Topic Selector                | # GPT Topic Selector: tweet filtering process overview                                                                 |
| GPT Topic Selector            | OpenAI (LangChain)            | Filters tweets by professional relevance criteria | Group Tweets into a Single Array  | Extract Tweets from JSON          | # GPT Topic Selector: filtering rules and requirements                                                                 |
| Extract Tweets from JSON       | Code                         | Extracts tweet id and text from GPT filtered output | GPT Topic Selector                | Loop Over Items                  | # X (Twitter) Search Terms Node: extraction and formatting of tweets                                                   |
| Loop Over Items               | Split In Batches              | Sequentially processes each filtered tweet       | Extract Tweets from JSON          | Wait (main), Wait (error output) | # Loop: Like, Generate, and Reply to Tweets: overview of processing loop and API rate limiting                         |
| Wait                         | Wait                         | Waits 15 minutes after liking a tweet            | Loop Over Items                  | X (Formerly Twitter) Like Tweet   | # Loop: Like, Generate, and Reply to Tweets: rate limiting compliance                                                  |
| X (Formerly Twitter) Like Tweet | Twitter API Node            | Likes each tweet before reply                     | Wait                            | GPT Tweet Response               | # Loop: Like, Generate, and Reply to Tweets: API credentials requirement and error handling                             |
| GPT Tweet Response            | OpenAI (LangChain)            | Generates professional replies to tweets         | X (Formerly Twitter) Like Tweet  | Wait1                           | # Loop: Like, Generate, and Reply to Tweets: reply generation with prompt and API key                                   |
| Wait1                        | Wait                         | Waits 15 minutes after reply generation           | GPT Tweet Response               | X (Formerly Twitter) Post Reply  | # Loop: Like, Generate, and Reply to Tweets: rate limiting compliance                                                  |
| X (Formerly Twitter) Post Reply | Twitter API Node            | Posts reply to original tweet                      | Wait1                           | Loop Over Items                  | # Loop: Like, Generate, and Reply to Tweets: posts replies, loops to next tweet                                        |
| Sticky Note                  | Sticky Note                  | Explanation of variables, schedule, and rotation |                                  |                                  | # Configure Your Variables: detailed instructions on schedule, search terms, and rotation logic                        |
| Sticky Note1                 | Sticky Note                  | Notes on Twitter API credentials and tweet extraction |                                  |                                  | # X (Twitter) Search Terms Node: credentials note and extraction explanation                                            |
| Sticky Note2                 | Sticky Note                  | Notes on GPT Topic Selector and tweet filtering   |                                  |                                  | # GPT Topic Selector: detailed filtering instructions and code node explanation                                         |
| Sticky Note3                 | Sticky Note                  | Explanation of the tweet engagement loop          |                                  |                                  | # Loop: Like, Generate, and Reply to Tweets: process details and API compliance                                         |
| Sticky Note4                 | Sticky Note                  | Overall workflow description and usage notes      |                                  |                                  | # Professional Tweet Engagement Automation: detailed description, how it works, requirements, and customization notes |

---

### 4. Reproducing the Workflow from Scratch

1. **Create Manual Trigger Node**  
   - Name: "When clicking ‘Execute workflow’"  
   - Purpose: Manual start. No parameters.

2. **Create Schedule Trigger Node**  
   - Name: "Schedule Trigger"  
   - Configure to run every 3 days at 9:00 AM.

3. **Connect both triggers ("When clicking ‘Execute workflow’" and "Schedule Trigger") to a Set Node**

4. **Create Set Node**  
   - Name: "Set search Terms"  
   - Add field `searchTerms` (Array) with 10 string topics:  
     - "AI Engineer", "Fullstack developer", "As a CEO", "JavaScript developer", "React developer", "Tech recruiter", "TypeScript developer", "Workflow automation", "Automation engineer", "n8n"  
   - Add field `role` (String): "Fullstack Developer and AI Engineer"

5. **Create Code Node**  
   - Name: "Rotating Slot Index Generator"  
   - Paste JavaScript code to calculate index (0 to 9) based on days since "2025-01-01" with a 3-day slot duration.  
   - This index selects the current topic.

6. **Create Twitter API Node**  
   - Name: "X (Formerly Twitter) Search terms"  
   - Operation: Search tweets  
   - Search Text: Use expression to select search term by index from "Set search Terms", e.g.:  
     `={{ $('Set search Terms').item.json.searchTerms[$json.index] }}`  
   - Limit: 10 tweets  
   - Configure valid Twitter API credentials.

7. **Create Code Node**  
   - Name: "Group Tweets into a Single Array"  
   - Code aggregates tweets into one object with a `tweets` array of `{id, text}` objects.

8. **Create OpenAI Node (LangChain)**  
   - Name: "GPT Topic Selector"  
   - Model: GPT-4.1  
   - System Prompt: Provide instructions to discard non-English, memes, jokes, politics, spam, entry-level internships, AI bot generated posts, and keep only relevant tweets on current topic.  
   - User Message: Pass JSON stringified tweets array.  
   - Configure OpenAI API credentials.

9. **Create Code Node**  
   - Name: "Extract Tweets from JSON"  
   - Extract `id` and `text` from GPT filtered results into individual items.

10. **Create Split In Batches Node**  
    - Name: "Loop Over Items"  
    - Batch Size: 1  
    - Processes each filtered tweet sequentially.

11. **Create Wait Node**  
    - Name: "Wait"  
    - Wait time: 15 minutes  
    - Waits between liking and reply generation.

12. **Create Twitter API Node**  
    - Name: "X (Formerly Twitter) Like Tweet"  
    - Operation: Like tweet by ID from current item.  
    - Configure Twitter API credentials.  
    - Set error handling to continue on error.

13. **Create OpenAI Node (LangChain)**  
    - Name: "GPT Tweet Response"  
    - Model: GPT-4.1  
    - System Prompt: Generate a short (max 280 chars), professional, language-matched reply without fluff, dashes, or unnecessary links.  
    - User Message: Include original tweet text.  
    - Configure OpenAI API credentials.

14. **Create Wait Node**  
    - Name: "Wait1"  
    - Wait time: 15 minutes  
    - Waits before posting reply.

15. **Create Twitter API Node**  
    - Name: "X (Formerly Twitter) Post Reply"  
    - Operation: Post reply text as a reply to original tweet using `inReplyToStatusId`.  
    - Configure Twitter API credentials.

16. **Connect nodes in this order:**  
    - "When clicking ‘Execute workflow’" and "Schedule Trigger" → "Set search Terms" → "Rotating Slot Index Generator" → "X (Formerly Twitter) Search terms" → "Group Tweets into a Single Array" → "GPT Topic Selector" → "Extract Tweets from JSON" → "Loop Over Items" (batch 1) → "Wait" → "X (Formerly Twitter) Like Tweet" → "GPT Tweet Response" → "Wait1" → "X (Formerly Twitter) Post Reply" → back to "Loop Over Items" for next tweet.

17. **Credentials Setup:**  
    - Twitter API credentials for all Twitter nodes (search, like, post reply).  
    - OpenAI API key for GPT nodes.

18. **Optional:** Add sticky notes for documentation and future reference.

---

### 5. General Notes & Resources

| Note Content                                                                                                                                                                                                                                         | Context or Link                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| The flow currently runs every 3 days and rotates through 10 topics. To run daily, adjust both the schedule trigger and uncomment the alternative code in the "Rotating Slot Index Generator" node.                                                  | Sticky Note #Configure Your Variables                                                                                                                          |
| Ensure X (Twitter) API credentials are correctly configured before running the workflow, or API calls will fail.                                                                                                                                     | Sticky Note1 #X (Twitter) Search Terms Node                                                                                                                   |
| OpenAI API key is required for GPT-based filtering and reply generation. Make sure usage limits and quotas are monitored to avoid interruptions.                                                                                                    | Sticky Note2 #GPT Topic Selector                                                                                                                              |
| The loop includes 15-minute wait nodes to comply with Twitter API rate limits, especially for free-tier users. Paid API users can reduce wait times accordingly.                                                                                   | Sticky Note3 #Loop: Like, Generate, and Reply to Tweets                                                                                                       |
| Workflow automates professional engagement by liking and replying with tailored responses, enhancing presence and interaction on X in a scalable, compliant manner.                                                                                  | Sticky Note4 #Professional Tweet Engagement Automation                                                                                                        |
| For detailed customization, you may modify search terms, role description, GPT prompt instructions, and scheduling frequency to better fit your brand or professional goals.                                                                       | Workflow Overview and Sticky Notes                                                                                                                            |

---

**Disclaimer:** The provided content is exclusively from an automated n8n workflow. It complies fully with content policies and contains no illegal, offensive, or protected elements. All data processed is legal and public.