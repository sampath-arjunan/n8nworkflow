Automate E-commerce Orders, Inventory & Feedback with Slack, Sheets & Gmail

https://n8nworkflows.xyz/workflows/automate-e-commerce-orders--inventory---feedback-with-slack--sheets---gmail-6362


# Automate E-commerce Orders, Inventory & Feedback with Slack, Sheets & Gmail

### 1. Workflow Overview

This workflow, titled **"E-commerce Operations Hub AI System"**, automates key operational tasks for an e-commerce business by integrating order processing, inventory management, and customer feedback. It is designed to handle real-time order events, maintain inventory awareness, and collect post-fulfillment feedback, using Slack, Google Sheets, and Gmail for notifications and communications.

The workflow logically divides into three main functional blocks:

- **1.1 Order Reception and Fulfillment Notification**: Handles incoming new orders through a webhook, extracts order data, and notifies the fulfillment team via Slack.
- **1.2 Daily Inventory Monitoring and Alerting**: Runs on a daily schedule, reads inventory data from Google Sheets, filters low-stock items, and alerts the purchasing team via Slack if stock is low.
- **1.3 Post-Order Fulfillment Feedback Collection**: Triggered by a webhook when an order is fulfilled (with a delay), extracts customer details, and sends a personalized feedback request email via Gmail.

Each block is implemented with clear node dependencies and includes error-sensitive points such as webhook triggers and external service integrations.

---

### 2. Block-by-Block Analysis

#### 2.1 Order Reception and Fulfillment Notification

- **Overview:**  
  This block listens for new customer orders via a webhook (e.g., Shopify or WooCommerce). It extracts necessary order details and immediately sends a Slack notification to the fulfillment team to process the order.

- **Nodes Involved:**  
  - 1. Webhook: New Order  
  - 2. Extract Order Data  
  - 3. Send Fulfillment Notification (Slack)

- **Node Details:**  

  - **1. Webhook: New Order**  
    - Type: Webhook Trigger  
    - Role: Entry point for new order events from e-commerce platforms.  
    - Configuration: Default webhook URL generated by n8n, designed to be copied into the e-commerce platform’s webhook settings for new orders.  
    - Inputs: Incoming HTTP POST payload with order details.  
    - Outputs: Raw order data JSON passed downstream.  
    - Edge Cases:  
      - Payload format changes may cause extraction errors.  
      - Network issues or webhook misconfiguration could lead to missed triggers.

  - **2. Extract Order Data**  
    - Type: Function Node  
    - Role: Parses the incoming order JSON data to extract relevant order fields (e.g., order ID, customer info, items).  
    - Configuration: Custom JavaScript code tailored to the incoming webhook payload structure.  
    - Inputs: Raw webhook order data.  
    - Outputs: Simplified object with key order details for downstream use.  
    - Edge Cases:  
      - Changes in payload structure can cause extraction failures.  
      - Null or missing fields should be handled gracefully to avoid runtime errors.

  - **3. Send Fulfillment Notification (Slack)**  
    - Type: Slack Node  
    - Role: Sends formatted notification messages to the fulfillment team’s Slack channel.  
    - Configuration: Slack credentials (OAuth2 or webhook token) configured in n8n credentials.  
    - Inputs: Extracted order details from previous node.  
    - Outputs: Slack API response.  
    - Edge Cases:  
      - Slack API rate limits or credentials expiry may cause failures.  
      - Network failures or misconfiguration of Slack channel may prevent notification delivery.

---

#### 2.2 Daily Inventory Monitoring and Alerting

- **Overview:**  
  This block runs daily to check inventory stock levels by reading a Google Sheets document. If any product’s stock is below a defined threshold, it sends a Slack alert to the purchasing team.

- **Nodes Involved:**  
  - 4. Schedule Trigger (Daily Inventory Check)  
  - 5. Read Inventory Data (Google Sheets)  
  - 6. Filter Low Stock  
  - 7. If Low Stock Items?  
  - 8. Send Low Stock Alert (Slack)  
  - 9. No Low Stock (NoOp)

- **Node Details:**  

  - **4. Schedule Trigger (Daily Inventory Check)**  
    - Type: Schedule Trigger  
    - Role: Automatically starts the inventory check workflow once per day at a configured time.  
    - Configuration: Configured with a daily interval; exact time can be set in parameters.  
    - Inputs: None (trigger node).  
    - Outputs: Trigger signal to downstream nodes.  
    - Edge Cases:  
      - Time zone misconfiguration may cause incorrect trigger times.  
      - If n8n instance is offline at trigger time, the run is missed.

  - **5. Read Inventory Data (Google Sheets)**  
    - Type: Google Sheets Node (v2)  
    - Role: Reads rows from a Google Sheet containing product inventory data with columns like ProductID, ProductName, and StockLevel.  
    - Configuration:  
      - Google Sheets credentials must be set up with appropriate scopes.  
      - The spreadsheet ID and sheet name/range must be specified.  
    - Inputs: Trigger signal from schedule node.  
    - Outputs: All inventory rows as JSON objects.  
    - Edge Cases:  
      - Credential expiry or revocation causes auth errors.  
      - Sheet structure changes (column renaming/removal) may break logic downstream.

  - **6. Filter Low Stock**  
    - Type: Function Node  
    - Role: Filters the inventory list to identify products with stock levels below a defined low-stock threshold (e.g., 10 units).  
    - Configuration: Custom JavaScript code implementing the threshold logic.  
    - Inputs: Inventory data array from Google Sheets.  
    - Outputs: Filtered list of low-stock products.  
    - Edge Cases:  
      - Non-numeric or missing stock values may cause filtering errors.  
      - Threshold parameter should be configurable to adapt to different business needs.

  - **7. If Low Stock Items?**  
    - Type: If Node  
    - Role: Conditional routing node that checks if any low-stock products exist.  
    - Configuration: Checks if filtered list length > 0.  
    - Inputs: Output from Filter Low Stock node.  
    - Outputs:  
      - True branch if low-stock items found.  
      - False branch if no low-stock items.

  - **8. Send Low Stock Alert (Slack)**  
    - Type: Slack Node  
    - Role: Sends a notification message listing low-stock products to the inventory/purchasing Slack channel.  
    - Configuration: Slack credentials configured; message formatting includes product details.  
    - Inputs: True branch from If node.  
    - Outputs: Slack API response.  
    - Edge Cases: Same as Slack node above.

  - **9. No Low Stock**  
    - Type: NoOp Node  
    - Role: Placeholder node for the false branch where no low-stock items are found; effectively ends this branch silently.  
    - Configuration: None.  
    - Inputs: False branch from If node.  
    - Outputs: None.  
    - Edge Cases: None.

---

#### 2.3 Post-Order Fulfillment Feedback Collection

- **Overview:**  
  This block triggers after an order is fulfilled (ideally 3-7 days post-delivery) via a webhook. It extracts customer information and sends a personalized feedback request email using Gmail.

- **Nodes Involved:**  
  - 10. Webhook: Order Fulfilled (Delayed)  
  - 11. Extract Customer Data (Feedback)  
  - 12. Send Feedback Request (Gmail)

- **Node Details:**  

  - **10. Webhook: Order Fulfilled (Delayed)**  
    - Type: Webhook Trigger  
    - Role: Receives fulfillment status updates from an external system indicating order completion.  
    - Configuration: Webhook URL to be integrated into order tracking or fulfillment system that supports delayed callbacks.  
    - Inputs: Fulfillment event payload (including order and customer identifiers).  
    - Outputs: Raw fulfillment data.  
    - Edge Cases:  
      - Delays or missing webhook calls could cause feedback emails to be sent late or not at all.  
      - Payload format changes may break extraction.

  - **11. Extract Customer Data (Feedback)**  
    - Type: Function Node  
    - Role: Parses fulfillment webhook data to extract customer email and name for personalized messaging.  
    - Configuration: Custom JavaScript extraction logic.  
    - Inputs: Fulfillment webhook data.  
    - Outputs: Customer contact details structured for email node.  
    - Edge Cases: Missing or malformed customer info must be handled gracefully.

  - **12. Send Feedback Request (Gmail)**  
    - Type: Gmail Node  
    - Role: Sends a feedback request email to the customer.  
    - Configuration:  
      - Gmail OAuth2 credentials configured in n8n.  
      - Email subject and body can include dynamic expressions using extracted customer data.  
    - Inputs: Customer contact info and message content.  
    - Outputs: Gmail API response.  
    - Edge Cases:  
      - Gmail API quota limits or credential issues may block sending.  
      - Email formatting errors could reduce deliverability.

---

### 3. Summary Table

| Node Name                        | Node Type             | Functional Role                             | Input Node(s)                | Output Node(s)                   | Sticky Note                                                                 |
|---------------------------------|-----------------------|---------------------------------------------|------------------------------|---------------------------------|----------------------------------------------------------------------------|
| 1. Webhook: New Order            | Webhook               | Receives new order events                    | None                         | 2. Extract Order Data            | Copy this Webhook URL into your e-commerce platform's webhook settings.    |
| 2. Extract Order Data            | Function              | Parses order details                          | 1. Webhook: New Order          | 3. Send Fulfillment Notification (Slack) |                                                                            |
| 3. Send Fulfillment Notification (Slack) | Slack                 | Notifies fulfillment team of new order       | 2. Extract Order Data          | None                            |                                                                            |
| 4. Schedule Trigger (Daily Inventory Check) | Schedule Trigger      | Triggers daily inventory check                | None                         | 5. Read Inventory Data (Google Sheets) |                                                                            |
| 5. Read Inventory Data (Google Sheets) | Google Sheets (v2)     | Reads inventory data from Google Sheets       | 4. Schedule Trigger           | 6. Filter Low Stock             | Ensure columns ProductID, ProductName, StockLevel exist in the sheet.      |
| 6. Filter Low Stock              | Function              | Filters products below stock threshold         | 5. Read Inventory Data        | 7. If Low Stock Items?          |                                                                            |
| 7. If Low Stock Items?           | If                    | Checks if any low-stock items exist            | 6. Filter Low Stock           | 8. Send Low Stock Alert (Slack), 9. No Low Stock |                                                                            |
| 8. Send Low Stock Alert (Slack) | Slack                 | Alerts purchasing team about low stock         | 7. If Low Stock Items? (true) | None                            |                                                                            |
| 9. No Low Stock                 | NoOp                  | Ends workflow path if no low-stock products     | 7. If Low Stock Items? (false)| None                            |                                                                            |
| 10. Webhook: Order Fulfilled (Delayed) | Webhook               | Receives delayed fulfillment status            | None                         | 11. Extract Customer Data (Feedback) | Copy this Webhook URL into your order fulfillment tracking system.         |
| 11. Extract Customer Data (Feedback) | Function              | Extracts customer info for feedback emails     | 10. Webhook: Order Fulfilled  | 12. Send Feedback Request (Gmail) |                                                                            |
| 12. Send Feedback Request (Gmail) | Gmail                 | Sends feedback request email to customer        | 11. Extract Customer Data     | None                            |                                                                            |
| Sticky Note                     | Sticky Note            | (Empty content)                                | None                         | None                            |                                                                            |
| Sticky Note1                    | Sticky Note            | (Empty content)                                | None                         | None                            |                                                                            |
| Sticky Note2                    | Sticky Note            | (Empty content)                                | None                         | None                            |                                                                            |
| Sticky Note3                    | Sticky Note            | (Empty content)                                | None                         | None                            |                                                                            |

---

### 4. Reproducing the Workflow from Scratch

1. **Create "1. Webhook: New Order" Node**  
   - Node Type: Webhook  
   - Set to receive POST requests.  
   - Copy the generated webhook URL and configure your e-commerce platform’s new order webhook to call it.  

2. **Create "2. Extract Order Data" Node**  
   - Node Type: Function  
   - Add JavaScript code to parse the incoming webhook JSON and extract fields such as order ID, customer name, items, and quantities.  
   - Connect input from "1. Webhook: New Order".

3. **Create "3. Send Fulfillment Notification (Slack)" Node**  
   - Node Type: Slack  
   - Configure Slack credentials with OAuth2 or incoming webhook token.  
   - Set message content to include extracted order details.  
   - Connect input from "2. Extract Order Data".

4. **Create "4. Schedule Trigger (Daily Inventory Check)" Node**  
   - Node Type: Schedule Trigger  
   - Configure to run once daily at a convenient time (e.g., 9:00 AM).  

5. **Create "5. Read Inventory Data (Google Sheets)" Node**  
   - Node Type: Google Sheets (v2)  
   - Setup Google Sheets credentials with read access.  
   - Specify the spreadsheet ID and sheet containing inventory data.  
   - Ensure sheet includes columns: ProductID, ProductName, StockLevel.  
   - Connect input from "4. Schedule Trigger (Daily Inventory Check)".

6. **Create "6. Filter Low Stock" Node**  
   - Node Type: Function  
   - Add JavaScript logic to filter products where StockLevel is below a predefined threshold (e.g., 10).  
   - Connect input from "5. Read Inventory Data (Google Sheets)".

7. **Create "7. If Low Stock Items?" Node**  
   - Node Type: If  
   - Condition: Check if filtered list length > 0.  
   - Connect input from "6. Filter Low Stock".

8. **Create "8. Send Low Stock Alert (Slack)" Node**  
   - Node Type: Slack  
   - Configure with Slack credentials.  
   - Set message to include low-stock product details.  
   - Connect to True output of "7. If Low Stock Items?".

9. **Create "9. No Low Stock" Node**  
   - Node Type: NoOp  
   - Connect to False output of "7. If Low Stock Items?".

10. **Create "10. Webhook: Order Fulfilled (Delayed)" Node**  
    - Node Type: Webhook  
    - Configure to receive POST requests from your order fulfillment tracking system.  
    - Copy the webhook URL and configure the fulfillment system to call it 3-7 days post-delivery.

11. **Create "11. Extract Customer Data (Feedback)" Node**  
    - Node Type: Function  
    - Add JavaScript to extract customer email and name from fulfillment webhook payload.  
    - Connect input from "10. Webhook: Order Fulfilled (Delayed)".

12. **Create "12. Send Feedback Request (Gmail)" Node**  
    - Node Type: Gmail  
    - Configure Gmail OAuth2 credentials with send email permissions.  
    - Compose email subject and body, dynamically including customer name and order references.  
    - Connect input from "11. Extract Customer Data (Feedback)".

---

### 5. General Notes & Resources

| Note Content                                                                                 | Context or Link                                                                                  |
|----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| Ensure your e-commerce platform supports webhook callbacks for new orders and fulfillment.  | Configure webhooks in Shopify, WooCommerce, or other platforms accordingly.                     |
| Google Sheets must have consistent columns: ProductID, ProductName, StockLevel for inventory check logic to work correctly. | Adjust the node parameters if your sheet structure differs.                                     |
| Slack credentials require appropriate OAuth2 scopes or incoming webhook permissions to send messages to your designated channels. | Slack API documentation: https://api.slack.com/messaging/webhooks                              |
| Gmail node requires OAuth2 credentials with Gmail send-mail scope and may trigger security warnings if not authorized properly. | Gmail API documentation: https://developers.google.com/gmail/api                              |
| For delayed fulfillment webhook, ensure your order tracking system supports scheduling callbacks or delayed webhooks. | This step is critical to send feedback emails in a timely manner.                              |

---

This concludes the comprehensive, structured reference document for the provided e-commerce automation workflow. It enables deep understanding, stepwise reproduction, and anticipates potential integration issues.